<!DOCTYPE html>


<html theme="dark" showBanner="true" hasBanner="true" >
<link href="/fontawesome/css/fontawesome.css" rel="stylesheet">
<link href="/fontawesome/css/brands.css" rel="stylesheet">
<link href="/fontawesome/css/solid.css" rel="stylesheet">
<script src="/js/color.global.min.js" ></script>
<script src="/js/load-settings.js" ></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<head>
  <meta charset="utf-8">
  
  
  

  
  <title>search-plugin-make | Poorgrammer&#39;s Corner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" href="/css/fonts/Roboto-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" href="/css/fonts/Roboto-Bold.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <meta name="description" content="Credit 使用、參考的網路資源 :https:&#x2F;&#x2F;github.com&#x2F;wzpan&#x2F;hexo-generator-searchhttps:&#x2F;&#x2F;liam.page&#x2F;2017&#x2F;09&#x2F;21&#x2F;local-search-engine-in-Hexo-site&#x2F;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;  對於提供資源的作者們，我由衷地表示感謝，如果資源的使用有任何不當之處，">
<meta property="og:type" content="article">
<meta property="og:title" content="search-plugin-make">
<meta property="og:url" content="https://tanimal19.github.io/2023/11/19/search-plugin-make/index.html">
<meta property="og:site_name" content="Poorgrammer&#39;s Corner">
<meta property="og:description" content="Credit 使用、參考的網路資源 :https:&#x2F;&#x2F;github.com&#x2F;wzpan&#x2F;hexo-generator-searchhttps:&#x2F;&#x2F;liam.page&#x2F;2017&#x2F;09&#x2F;21&#x2F;local-search-engine-in-Hexo-site&#x2F;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;  對於提供資源的作者們，我由衷地表示感謝，如果資源的使用有任何不當之處，">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-11-19T14:29:11.000Z">
<meta property="article:modified_time" content="2023-11-22T13:46:55.352Z">
<meta property="article:author" content="Tanimal">
<meta property="article:tag" content="guide">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">
  
  
    <link rel="shortcut icon" href="/assets/favicon.png">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  
  
    
<div id="banner" class="">
  <img src="/assets/banner.jpg" itemprop="image">
  <div id="banner-dim"></div>
</div>

  
  <div id="main-grid" class="shadow ">
    <div id="nav" class=""  >
      <navbar id="navbar">
  <nav id="title-nav">
    <div id="title-wrap">
      <a href="/">
        <div>
          <image id="logo" src=/assets/favicon.png></image>
        </div>
        <div>Poorgrammer's Corner </div>
      </a>
    </div>
  </nav>
  <nav id="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    <a id="theme-btn" class="nav-icon">
      <span class="light-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
<path d="M438.5-829.913v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-829.913Zm0 747.826v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-82.087ZM877.913-438.5h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537t29.476-12.174h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T877.913-438.5Zm-747.826 0h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T82.087-521.5h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T130.087-438.5Zm660.174-290.87-34.239 32q-12.913 12.674-29.565 12.174-16.653-.5-29.327-13.174-12.674-12.673-12.554-28.826.12-16.152 12.794-28.826l33-35q12.913-12.674 30.454-12.674t30.163 12.847q12.709 12.846 12.328 30.826-.38 17.98-13.054 30.653ZM262.63-203.978l-32 34q-12.913 12.674-30.454 12.674t-30.163-12.847q-12.709-12.846-12.328-30.826.38-17.98 13.054-30.653l33.239-31q12.913-12.674 29.565-12.174 16.653.5 29.327 13.174 12.674 12.673 12.554 28.826-.12 16.152-12.794 28.826Zm466.74 33.239-32-33.239q-12.674-12.913-12.174-29.565.5-16.653 13.174-29.327 12.673-12.674 28.826-13.054 16.152-.38 28.826 12.294l35 33q12.674 12.913 12.674 30.454t-12.847 30.163q-12.846 12.709-30.826 12.328-17.98-.38-30.653-13.054ZM203.978-697.37l-34-33q-12.674-12.913-13.174-29.945-.5-17.033 12.174-29.707t31.326-13.293q18.653-.62 31.326 13.054l32 34.239q11.674 12.913 11.174 29.565-.5 16.653-13.174 29.327-12.673 12.674-28.826 12.554-16.152-.12-28.826-12.794ZM480-240q-100 0-170-70t-70-170q0-100 70-170t170-70q100 0 170 70t70 170q0 100-70 170t-170 70Zm-.247-82q65.703 0 111.475-46.272Q637-414.544 637-480.247t-45.525-111.228Q545.95-637 480.247-637t-111.475 45.525Q323-545.95 323-480.247t45.525 111.975Q414.05-322 479.753-322ZM481-481Z"/>
</svg></span>
      <span class="dark-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M480.239-116.413q-152.63 0-258.228-105.478Q116.413-327.37 116.413-480q0-130.935 77.739-227.435t206.304-125.043q43.022-9.631 63.87 10.869t3.478 62.805q-8.891 22.043-14.315 44.463-5.424 22.42-5.424 46.689 0 91.694 64.326 155.879 64.325 64.186 156.218 64.186 24.369 0 46.978-4.946 22.609-4.945 44.413-14.076 42.826-17.369 62.967 1.142 20.142 18.511 10.511 61.054Q807.174-280 712.63-198.206q-94.543 81.793-232.391 81.793Zm0-95q79.783 0 143.337-40.217 63.554-40.218 95.793-108.283-15.608 4.044-31.097 5.326-15.49 1.283-31.859.805-123.706-4.066-210.777-90.539-87.071-86.473-91.614-212.092-.24-16.369.923-31.978 1.164-15.609 5.446-30.978-67.826 32.478-108.282 96.152Q211.652-559.543 211.652-480q0 111.929 78.329 190.258 78.329 78.329 190.258 78.329ZM466.13-465.891Z"/></svg></span>
    </a>
    <form id="search-box">
        <input type="text" id="search-input" class="hidden"  placeholder="Search"/>
        <span id="clear-btn" class="hidden">
          <svg width="20px" height="20px" viewBox="0 -0.5 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.96967 16.4697C6.67678 16.7626 6.67678 17.2374 6.96967 17.5303C7.26256 17.8232 7.73744 17.8232 8.03033 17.5303L6.96967 16.4697ZM13.0303 12.5303C13.3232 12.2374 13.3232 11.7626 13.0303 11.4697C12.7374 11.1768 12.2626 11.1768 11.9697 11.4697L13.0303 12.5303ZM11.9697 11.4697C11.6768 11.7626 11.6768 12.2374 11.9697 12.5303C12.2626 12.8232 12.7374 12.8232 13.0303 12.5303L11.9697 11.4697ZM18.0303 7.53033C18.3232 7.23744 18.3232 6.76256 18.0303 6.46967C17.7374 6.17678 17.2626 6.17678 16.9697 6.46967L18.0303 7.53033ZM13.0303 11.4697C12.7374 11.1768 12.2626 11.1768 11.9697 11.4697C11.6768 11.7626 11.6768 12.2374 11.9697 12.5303L13.0303 11.4697ZM16.9697 17.5303C17.2626 17.8232 17.7374 17.8232 18.0303 17.5303C18.3232 17.2374 18.3232 16.7626 18.0303 16.4697L16.9697 17.5303ZM11.9697 12.5303C12.2626 12.8232 12.7374 12.8232 13.0303 12.5303C13.3232 12.2374 13.3232 11.7626 13.0303 11.4697L11.9697 12.5303ZM8.03033 6.46967C7.73744 6.17678 7.26256 6.17678 6.96967 6.46967C6.67678 6.76256 6.67678 7.23744 6.96967 7.53033L8.03033 6.46967ZM8.03033 17.5303L13.0303 12.5303L11.9697 11.4697L6.96967 16.4697L8.03033 17.5303ZM13.0303 12.5303L18.0303 7.53033L16.9697 6.46967L11.9697 11.4697L13.0303 12.5303ZM11.9697 12.5303L16.9697 17.5303L18.0303 16.4697L13.0303 11.4697L11.9697 12.5303ZM13.0303 11.4697L8.03033 6.46967L6.96967 7.53033L11.9697 12.5303L13.0303 11.4697Z" fill="var(--not-theme-color)"/>
</svg>
        </span>
    </form>
    <span id="search-btn" class="nav-icon">
      <svg width="22px" height="22px" viewBox="0 0 25.00 25.00" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 10.7655C5.50003 8.01511 7.44296 5.64777 10.1405 5.1113C12.8381 4.57483 15.539 6.01866 16.5913 8.55977C17.6437 11.1009 16.7544 14.0315 14.4674 15.5593C12.1804 17.0871 9.13257 16.7866 7.188 14.8415C6.10716 13.7604 5.49998 12.2942 5.5 10.7655Z" stroke="var(--not-theme-color)" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M17.029 16.5295L19.5 19.0005" stroke="var(--not-theme-color)" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
    </span>
    <div id="nav-menu-btn" class="nav-icon">
      <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M177.37-252.282q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Zm0-186.218q-17.453 0-29.477-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T177.37-521.5h605.26q17.453 0 29.477 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T782.63-438.5H177.37Zm0-186.217q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Z"/></svg>
    </div>
  </nav>
</navbar>
<div id="search-result"></div>
<div id="nav-dropdown" class="hidden">
  <div id="dropdown-link-list">
    
      <a class="nav-dropdown-link" href="/">Home</a>
    
      <a class="nav-dropdown-link" href="/archives">Archives</a>
    
      <a class="nav-dropdown-link" href="/about">About</a>
    
    </div>
</div>
<script>
  let dropdownBtn = document.getElementById("nav-menu-btn");
  let dropdownEle = document.getElementById("nav-dropdown");
  dropdownBtn.onclick = function() {
    dropdownEle.classList.toggle("hidden");
  }
</script>
    </div>
    <div id="sidebar-wrapper">
      <sidebar id="sidebar">
        
          <div class="widget-wrap">
  <div class="info-card">
    <div class="avatar">
      
        <image src=/assets/avatar.png></image>
      
      <div class="img-dim"></div>
    </div>
    <div class="info">
      <div class="username">Tanimal </div>
      <div class="dot"></div>
      <div class="subtitle">Best Worst Programmer Ever </div>
      <div class="link-list">
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://twitter.com" title="Twitter"><i class="fa-brands fa-twitter"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://steamcommunity.com/profiles/76561199034805465/" title="Steam"><i class="fa-brands fa-steam"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://github.com/Tanimal19" title="GitHub"><i class="fa-brands fa-github"></i></a>
        
      </div>
    </div>
  </div>
</div>

        
        <div class="sticky">
          
            
  <div id="toc-wrap" class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Content</h3>
      <div id="toc"></div>
    </div>
  </div>
	<script src="/js/toc.js"></script>


          
            


  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Categories</h3>
      <div class="category-box">
            <a class="category-link" href="/categories/Blog-Modify/">
                Blog Modify
                <div class="category-count">1</div>
            </a>
        </div>
    </div>
  </div>


          
            
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Tags</h3>
      <ul class="widget-tag-list" itemprop="keywords"><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Foo/" rel="tag">Foo</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/guide/" rel="tag">guide</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li></ul>
    </div>
  </div>


          
        </div>
      </sidebar>
    </div>
    <div id="content-body">
       

<article id="post-search-plugin-make" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
    
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 class="p-name article-title" itemprop="headline name">
        search-plugin-make
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2023-11-19T14:29:11.000Z" itemprop="datePublished">2023-11-19</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/Blog-Modify/">Blog Modify</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            3k words 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/guide/" rel="tag">guide</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <h1 id="Credit"><a href="#Credit" class="headerlink" title="Credit"></a>Credit</h1><blockquote>
<p>使用、參考的網路資源 :<br><a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search">https://github.com/wzpan/hexo-generator-search</a><br><a target="_blank" rel="noopener" href="https://liam.page/2017/09/21/local-search-engine-in-Hexo-site/">https://liam.page/2017/09/21/local-search-engine-in-Hexo-site/</a><br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/">https://developer.mozilla.org/en-US/</a></p>
</blockquote>
<p>對於提供資源的作者們，我由衷地表示感謝，如果資源的使用有任何不當之處，請來信告知我。<br>I sincerely express my gratitude to the authors who have provided resources. If there is any inappropriate use of the resources, please inform me by email.<br><strong>email</strong> : <a href="mailto:&#116;&#97;&#110;&#105;&#109;&#97;&#108;&#x31;&#57;&#x31;&#50;&#x40;&#x67;&#x6d;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#109;">&#116;&#97;&#110;&#105;&#109;&#97;&#108;&#x31;&#57;&#x31;&#50;&#x40;&#x67;&#x6d;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#109;</a></p>
<hr>
<h1 id="前言廢話"><a href="#前言廢話" class="headerlink" title="前言廢話"></a>前言廢話</h1><p>這應該算是這個網站的第一篇正式文章吧 (*´▽&#96;*)<br>做為一個前端初學者，要做站內搜尋還真不知從哪裡下手，所幸網路資源很多，我最後還是把這個功能做(拼裝)出來了。<br>因為我是程式菜雞，這篇文章的目的在於紀錄，不會講述很多細節，也可能會有錯誤，請見諒。</p>
<p>如果只想知道程式碼請到移駕到我的 <a target="_blank" rel="noopener" href="https://github.com/Tanimal19/Blog-Plugin/tree/main">github</a><br>如果想確認這個搜尋功能長怎樣，請看右上角</p>
<hr>
<h1 id="HTML-的部分"><a href="#HTML-的部分" class="headerlink" title="HTML 的部分"></a>HTML 的部分</h1><p>首先，一個<br>一個基礎搜尋功能的架構應該會長這樣 :</p>
<ul>
<li>可以輸入文字的搜尋框 <code>search-input</code></li>
<li>清除搜尋內容的按鈕 <code>clear-btn</code></li>
<li>搜尋按鈕 <code>search-btn</code><br>  這個按鈕其實沒有搜尋功能，只是讓搜尋框出現而已</li>
<li>包住所有元素的外殼 <code>search-box</code><br>  整個搜尋功能我是打算做在 navbar 裡面，所以以上這些元素都會被包在 navbar 裡面</li>
<li>搜尋結果 <code>search-result</code><br>  搜尋結果其實也可以讓它出現在另一個新分頁，可以顯示更多搜尋結果，但這感覺很麻煩，所以我決定讓結果出現在 navbar 下面就好 (注意不是包在 navbar 裡面)</li>
</ul>
<p>程式碼 :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">navbar</span> <span class="attr">id</span>=<span class="string">&quot;navbar&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span> <span class="attr">id</span>=<span class="string">&quot;sub-nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;search-box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;search-input&quot;</span> <span class="attr">class</span>=<span class="string">&quot;hidden&quot;</span>  <span class="attr">placeholder</span>=<span class="string">&quot;Search&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;clear-btn&quot;</span> <span class="attr">class</span>=<span class="string">&quot;hidden&quot;</span>&gt;</span></span><br><span class="line">          &lt;%- partial(&#x27;_icon/clear&#x27;) %&gt;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;search-btn&quot;</span> <span class="attr">class</span>=<span class="string">&quot;nav-icon&quot;</span>&gt;</span></span><br><span class="line">      &lt;%- partial(&#x27;_icon/search&#x27;) %&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">navbar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;search-result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="JavaScript-的部分"><a href="#JavaScript-的部分" class="headerlink" title="JavaScript 的部分"></a>JavaScript 的部分</h1><h2 id="搜尋功能"><a href="#搜尋功能" class="headerlink" title="搜尋功能"></a>搜尋功能</h2><p>搜尋功能裡最重要的就是搜尋功能 (?)</p>
<p>解釋一下原理 :<br>首先會用到 hexo 的一個插件 <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a>，這個插件會幫你把所有的 post 做 index 然後產生一個 <code>search.xml</code>，接著我們就可以對這個 <code>search.xml</code> 來做搜尋藉此找到我們要的 post。</p>
<p>搜尋部分的程式碼是用<a target="_blank" rel="noopener" href="https://liam.page/2017/09/21/local-search-engine-in-Hexo-site/">別人的程式碼</a>(因為我很爛)，再做一些小修改。<br>由於很長我就不把程式貼在這了，很醜。大致上就是在 <code>search.xml</code> 裡面找關鍵字，然後標記起來，並用 <code>li</code> 元素將每個結果包起來，最後回傳一個 <code>ul</code> 清單讓我們可以放在 <code>search-result</code> 裡面。</p>
<h2 id="按鈕功能"><a href="#按鈕功能" class="headerlink" title="按鈕功能"></a>按鈕功能</h2><p>接著是清除按鈕的功能，這部分其實是包含在搜尋功能的程式碼裡面，片段如下 :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="string">&#x27;#clear-btn&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&#x27;#search-input&#x27;</span>).<span class="title function_">val</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    $(<span class="string">&#x27;#search-result&#x27;</span>).<span class="title function_">html</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>然後是搜尋按鈕，上面章節有提到，這個按鈕其實沒有搜尋功能。因為在使用者輸入時我們就會直接輸出搜尋結果，不需要再多按一個搜尋按鈕，於是這個按鈕的功能就變成單單讓搜尋框出現和收起，也就是為它們加上或去除 <code>class = &quot;hidden&quot;</code>。<br>程式碼如下 :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> searchButton = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;search-btn&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> clearButton = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;clear-btn&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> searchInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;search-input&quot;</span>);</span><br><span class="line"></span><br><span class="line">  searchButton.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    clearButton.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&quot;hidden&quot;</span>);</span><br><span class="line">    searchInput.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&quot;hidden&quot;</span>);</span><br><span class="line">    <span class="comment">// 順便把搜尋結果清掉</span></span><br><span class="line">    $(<span class="string">&#x27;#search-input&#x27;</span>).<span class="title function_">val</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    $(<span class="string">&#x27;#search-result&#x27;</span>).<span class="title function_">html</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h1><p>對我個人而言，用起來要賞心悅目才爽，因此 CSS 是非常重要的；另一方面，也要用 css 才能讓搜尋框順利隱藏。<br>由於 css 的屬性很多，細節可以看 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS">MDN DOCS</a> 會更詳細，因此這部分只會提到幾個關鍵的屬性。</p>
<h2 id="搜尋結果"><a href="#搜尋結果" class="headerlink" title="搜尋結果"></a>搜尋結果</h2><p>搜尋結果會以 ul 清單的方式呈現，想讓每個結果以垂直並列的方式呈現可以使用 flex 布局 :</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: flex</span><br><span class="line"><span class="attribute">flex-direction</span>: column</span><br></pre></td></tr></table></figure>

<p>然後，我不想讓這個清單無限伸長，我希望可以讓搜尋結果超出特定長度時可以出現滾動條，因此加上這兩個屬性 :</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow-y</span>: scroll</span><br><span class="line"><span class="attribute">overflow-x</span>: hidden</span><br></pre></td></tr></table></figure>

<p>同時，ul 和 li 元素都設有 <code>maxwidth</code> 來限制最大高度。</p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>剩下的元素其實就是根據網站主題來更改 css 樣式，讓它不要顯得太突兀。<br>而所有元素都是採用 flex 布局，因為它可以自動幫我們調整寬高，我就不用做自適應了，好耶。</p>

        
      </div>

         
    </div>
    
     
  </div>
  
    
<nav id="article-nav">
  <a class="article-nav-btn left  disabled "
     >
    <i class="fa-solid fa-angle-left"></i>
    <p class="title-text">
        
    </p>
  </a>
  <a class="article-nav-btn right "
    
      href="/2023/11/17/toc-test/"
      title="TOC test"
     >

    <p class="title-text">
      
        TOC test
        
    </p>
    <i class="fa-solid fa-angle-right"></i>
  </a>
</nav>


  
</article>


  
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <div id="comment-card" class="comment-card">
    <div class="main-title-bar">
      <div class="main-title-dot"></div>
      <div class="main-title">Comments </div>
    </div>
    <div id="vcomments"></div>
  </div>
  <script>
      new Valine({"enable":true,"appId":"qDOJt3DdU9Vo80Hqmew4t22p-MdYXbMMI","appKey":"5KgI7mtczHcspORCZxylDJxq","placeholder":"Comment Here","pageSize":10,"highlight":true,"visitor":true,"lang":"zh-TW","serverURLs":null,"el":"#vcomments"});
  </script>
 
    </div>
    <div id="footer-wrapper">
      <footer id="footer">
  
  <div id="footer-info" class="inner">
    
    &copy; 2023 Tanimal<br>
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & Theme <a target="_blank" rel="noopener" href="https://github.com/saicaca/hexo-theme-vivia">Vivia</a>
  </div>
</footer>

    </div>
    <div class="back-to-top-wrapper">
    <button id="back-to-top-btn" class="back-to-top-btn hide" onclick="topFunction()">
        <i class="fa-solid fa-angle-up"></i>
    </button>
</div>

<script>
    function topFunction() {
        window.scroll({ top: 0, behavior: 'smooth' });
    }
    let btn = document.getElementById('back-to-top-btn');
    function scrollFunction() {
        if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
            btn.classList.remove('hide')
        } else {
            btn.classList.add('hide')
        }
    }
    window.onscroll = function() {
        scrollFunction();
    }
</script>

  </div>
  <script src="/js/light-dark-switch.js"></script>
  <script src="/js/search.js"></script>
</body>
</html>
